server {
    listen 9191;

    # All resources are inside ./test_www/
    root ./test_www;

    # Global file upload size limit (in MiB)
    upload_file_size 5;

    # ==== Main page ====
    location / {
        root www;
        index index.html;
        # No upload_path → POST / returns 405 Method Not Allowed
    }

    # ==== Images ====
    location /img/ {
        root img;
        index logo.png favicon.ico;

        # Uploaded files will be saved into ./test_www/img/uploads/
        upload_path img/uploads;
    }

    # ==== Documentation ====
    location /docs/ {
        root docs;
        index index.html;
        # No upload_path → POST /docs/... returns 405 Method Not Allowed
    }

    # ==== Dedicated upload segment ====
    location /upload/ {
        root upload;
        # Files will be saved directly into ./test_www/upload/
        upload_path upload;
    }
}

